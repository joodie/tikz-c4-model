\documentclass{article}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, c4, positioning, fit}
% \renewcommand{\familydefault}{\sfdefault}
\title{C4 examples}
\author{Joost Diepenmaat}
\date{June 2020}

\begin{document}

\maketitle


\begin{tikzpicture}[node distance=3cm]
  \footnotesize
  % \draw[c4personcolor] (0,0) -- (1,1) -- (2,-1) -- cycle;
  
  \draw node[c4 system] (ibs) {
    \nodepart{name}\textbf{Internet Banking System}
    \nodepart{technology}\textit{[Software System]}
    \nodepart{description}Allows customers to view\\
    information about their bank\\
    accounts, and make payments};

  \draw node[c4 person, above=of ibs] (user) {
    \nodepart{name}\textbf{Internet Banking User}
    \nodepart{technology}\textit{[Person]}
    \nodepart{description}Customers will view\\
    information about their bank\\
    accounts, and make payments};
  
  \draw node[c4 existing system, right=of ibs] (es) {
    \nodepart{name}\textbf{E-Mail System}
    \nodepart{technology}\textit{[Software System]}
    \nodepart{description}The internal Microsoft Exchange\\
    Email System};

  \draw node[c4 existing system, below=of ibs] (mbs) {
    \nodepart{name}\textbf{Mainframe Banking
      System}
    \nodepart{technology}\textit{[Software System]}
    \nodepart{description}Stores all of the core banking\\
    information about customers,\\
    accounts, transactions, etc.};

  \draw [->, draw=c4existingsystemcolor!80!black, thick] (ibs.east) to
  [edge label=Sends E-Mail using] (es.west);

  \draw [->, draw=c4existingsystemcolor!80!black, thick] (ibs.south) to [ edge
  label=Uses] (mbs.north);

  % \draw [fit=(ibs, es, mbs), dashed, thick] {Big Bank PLC}

\end{tikzpicture}



\begin{figure}
  \begin{tikzpicture}
    \Huge
    \node[name=s,c4 existing system]
    {\nodepart{name}\textbf{name}
      \nodepart{technology}\textit{[technology]}
      \nodepart{description}Description on\\multiple lines};

    \foreach \anchor/\placement in{
      north west/above left, north/above, north east/above right, west/left, center/below, east/right,
      mid west/right, mid/above, mid east/left,
      base west/left, base/below, base east/right,
      south west/below left, south/below, south east/below right,
      name/left, technology/left, description/left, 130/above}
    \draw[shift=(s.\anchor)] plot[mark=x] coordinates{(0,0)}
    node[\placement] {\scriptsize\texttt{(s.\anchor)}};
  \end{tikzpicture}
  \caption{Anchors on rectangular nodes}
\end{figure}

\begin{figure}
  \begin{tikzpicture}
    \Huge
    \node[name=s,c4 existing person]
    {\nodepart{name}\textbf{name}
      \nodepart{technology}\textit{[Person]}
      \nodepart{description}Description on\\multiple lines};

    \foreach \anchor/\placement in{
      north west/above left, north/above, north east/above right, west/left, center/below, east/right,
      mid west/right, mid/above, mid east/left,
      base west/left, base/below, base east/right,
      south west/below left, south/below, south east/below right,
      name/left, technology/left, description/left, 130/above}
    \draw[shift=(s.\anchor)] plot[mark=x] coordinates{(0,0)}
    node[\placement] {\scriptsize\texttt{(s.\anchor)}};
  \end{tikzpicture}
  \caption{Anchors on person nodes}
\end{figure}
\end{document}
